
============2017-12-21 00:08:38============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'fieldcompare_name1': 'shopid', 'number_accuracy': '2', 'ProjectConfigure': '', 'checkdisk': 'yes', 'fieldcompare_name2': 'studentid', 'savelog_to_file': 'yes', 'ToEmail': ['1732821152@qq.com'], 'whether_check_pic': 'yes', 'user': 'xxxx', 'sql_path': 'sql/pic_Arrivals-test.sql', 'table_name': 'htg_weixin_history', 'port': '3306', 'whether_check_letter': 'yes', 'past_days_num': '3', 'time_beginning': '9', 'time_end': '18', 'passwd': 'xxxx', 'dingtalk': 'yes', 'logpath': 'logs', 'servername': '197', 'host': 'xxx', 'fieldcompare_name3': 'id', 'whether_check_pm2': 'yes', 'email_sendaddr': '', 'database': 'xxxx', 'fieldcompare_namevalue': 'OpenID', 'webhook': 'https://oapi.dingtalk.com/robot/send?access_token=d63e24141a27b09cc237c5ec26990dxxxxxxxxxxxxxxxxxx72ec16e', 'email_sendpasswd': '', 'run_intervals': '1800', 'email': 'no', 'sleeptime': '70', 'next_field_value': '1', 'fieldcompare_name4': 'appendtime', 'username': '林繁', 'createtime': '2017-09-30', 'warning_level': '70', 'remove_log_time': '11:50', 'when_hour_checkall': '9', 'author': 'cg错过', 'first_field_value': '0', 'field_name': 'send_state', 'smtp_server': ''}
需要运行的有: 
{'fieldcompare_name1': 'shopid', 'number_accuracy': '2', 'ProjectConfigure': '', 'checkdisk': 'yes', 'fieldcompare_name2': 'studentid', 'savelog_to_file': 'yes', 'ToEmail': ['1732821152@qq.com'], 'whether_check_pic': 'yes', 'user': 'xxxx', 'sql_path': 'sql/pic_Arrivals-test.sql', 'table_name': 'htg_weixin_history', 'port': '3306', 'whether_check_letter': 'yes', 'past_days_num': '3', 'time_beginning': '9', 'time_end': '18', 'passwd': 'xxxx', 'dingtalk': 'yes', 'logpath': 'logs', 'servername': '197', 'host': 'xxx', 'fieldcompare_name3': 'id', 'whether_check_pm2': 'yes', 'email_sendaddr': '', 'database': 'xxxx', 'fieldcompare_namevalue': 'OpenID', 'webhook': 'https://oapi.dingtalk.com/robot/send?access_token=d63e24141a27b09cc237c5ec26990dxxxxxxxxxxx72ec16e', 'email_sendpasswd': '', 'run_intervals': '1800', 'email': 'no', 'sleeptime': '70', 'next_field_value': '1', 'fieldcompare_name4': 'appendtime', 'username': '林繁', 'createtime': '2017-09-30', 'warning_level': '70', 'remove_log_time': '11:50', 'when_hour_checkall': '9', 'author': 'cg错过', 'first_field_value': '0', 'field_name': 'send_state', 'smtp_server': ''}
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   11G  9.4G  54% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G   49M  1.9G   3% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   48G   47G  51% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'mountedon': '/', 'used': '11G', 'size': '20G', 'type': 'xfs', 'avail': '9.4G', 'use': '54%', 'filesystem': '/dev/vda1'}
{'mountedon': '/dev', 'used': '0', 'size': '1.9G', 'type': 'devtmpfs', 'avail': '1.9G', 'use': '0%', 'filesystem': 'devtmpfs'}
{'mountedon': '/dev/shm', 'used': '0', 'size': '1.9G', 'type': 'tmpfs', 'avail': '1.9G', 'use': '0%', 'filesystem': 'tmpfs'}
{'mountedon': '/run', 'used': '49M', 'size': '1.9G', 'type': 'tmpfs', 'avail': '1.9G', 'use': '3%', 'filesystem': 'tmpfs'}
{'mountedon': '/sys/fs/cgroup', 'used': '0', 'size': '1.9G', 'type': 'tmpfs', 'avail': '1.9G', 'use': '0%', 'filesystem': 'tmpfs'}
{'mountedon': '/data', 'used': '48G', 'size': '99G', 'type': 'ext4', 'avail': '47G', 'use': '51%', 'filesystem': '/dev/vdb'}
{'mountedon': '/run/user/0', 'used': '0', 'size': '380M', 'type': 'tmpfs', 'avail': '380M', 'use': '0%', 'filesystem': 'tmpfs'}
无超过70%的挂载点
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2017-12-21 00:38:39============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'fieldcompare_name1': 'shopid', 'number_accuracy': '2', 'ProjectConfigure': '', 'checkdisk': 'yes', 'fieldcompare_name2': 'studentid', 'savelog_to_file': 'yes', 'ToEmail': ['1732821152@qq.com'], 'whether_check_pic': 'yes', 'user': 'xxx', 'sql_path': 'sql/pic_Arrivals-test.sql', 'table_name': 'htg_weixin_history', 'port': '3306', 'whether_check_letter': 'yes', 'past_days_num': '3', 'time_beginning': '9', 'time_end': '18', 'passwd': 'xxxx', 'dingtalk': 'yes', 'logpath': 'logs', 'servername': '197', 'host': 'xxxx', 'fieldcompare_name3': 'id', 'whether_check_pm2': 'yes', 'email_sendaddr': '', 'database': 'xxxx', 'fieldcompare_namevalue': 'OpenID', 'webhook': 'https://oapi.dingtalk.com/robot/send?access_token=d63e24141a27b09cc237c5ec26990db52dbxxxxxxxxxxxxxxxx72ec16e', 'email_sendpasswd': '', 'run_intervals': '1800', 'email': 'no', 'sleeptime': '70', 'next_field_value': '1', 'fieldcompare_name4': 'appendtime', 'username': '林繁', 'createtime': '2017-09-30', 'warning_level': '70', 'remove_log_time': '11:50', 'when_hour_checkall': '9', 'author': 'cg错过', 'first_field_value': '0', 'field_name': 'send_state', 'smtp_server': ''}
需要运行的有: 
{'fieldcompare_name1': 'shopid', 'number_accuracy': '2', 'ProjectConfigure': '', 'checkdisk': 'yes', 'fieldcompare_name2': 'studentid', 'savelog_to_file': 'yes', 'ToEmail': ['1732821152@qq.com'], 'whether_check_pic': 'yes', 'user': 'xxx', 'sql_path': 'sql/pic_Arrivals-test.sql', 'table_name': 'htg_weixin_history', 'port': '3306', 'whether_check_letter': 'yes', 'past_days_num': '3', 'time_beginning': '9', 'time_end': '18', 'passwd': 'xxxx', 'dingtalk': 'yes', 'logpath': 'logs', 'servername': '197', 'host': 'xxxx', 'fieldcompare_name3': 'id', 'whether_check_pm2': 'yes', 'email_sendaddr': '', 'database': 'xxxx', 'fieldcompare_namevalue': 'OpenID', 'webhook': 'https://oapi.dingtalk.com/robot/send?access_token=d63e24141a27b09xxxxxxxxxxxxxxxxxxxxe', 'email_sendpasswd': '', 'run_intervals': '1800', 'email': 'no', 'sleeptime': '70', 'next_field_value': '1', 'fieldcompare_name4': 'appendtime', 'username': '林繁', 'createtime': '2017-09-30', 'warning_level': '70', 'remove_log_time': '11:50', 'when_hour_checkall': '9', 'author': 'cg错过', 'first_field_value': '0', 'field_name': 'send_state', 'smtp_server': ''}
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   11G  9.4G  54% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G   49M  1.9G   3% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   48G   47G  51% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'mountedon': '/', 'used': '11G', 'size': '20G', 'type': 'xfs', 'avail': '9.4G', 'use': '54%', 'filesystem': '/dev/vda1'}
{'mountedon': '/dev', 'used': '0', 'size': '1.9G', 'type': 'devtmpfs', 'avail': '1.9G', 'use': '0%', 'filesystem': 'devtmpfs'}
{'mountedon': '/dev/shm', 'used': '0', 'size': '1.9G', 'type': 'tmpfs', 'avail': '1.9G', 'use': '0%', 'filesystem': 'tmpfs'}
{'mountedon': '/run', 'used': '49M', 'size': '1.9G', 'type': 'tmpfs', 'avail': '1.9G', 'use': '3%', 'filesystem': 'tmpfs'}
{'mountedon': '/sys/fs/cgroup', 'used': '0', 'size': '1.9G', 'type': 'tmpfs', 'avail': '1.9G', 'use': '0%', 'filesystem': 'tmpfs'}
{'mountedon': '/data', 'used': '48G', 'size': '99G', 'type': 'ext4', 'avail': '47G', 'use': '51%', 'filesystem': '/dev/vdb'}
{'mountedon': '/run/user/0', 'used': '0', 'size': '380M', 'type': 'tmpfs', 'avail': '380M', 'use': '0%', 'filesystem': 'tmpfs'}
无超过70%的挂载点
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

