
============2018-02-24 00:28:35============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============
所有项目一天执行次数现已重置为0
---2018-02-24 00:28:35

============2018-02-24 00:58:36============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 01:28:37============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 01:58:38============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 02:28:39============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 02:58:40============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 03:28:41============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 03:58:42============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 04:28:43============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 04:58:44============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 05:28:45============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 05:58:46============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 06:28:47============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 06:58:48============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 07:28:49============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 07:58:50============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 08:28:51============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 08:58:52============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 09:28:53============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
执行检测2018-02-23的推送情况
数据库查询未推送连接成功
查找2018-02-23未推送的字段信息
查询未推送数据连接已正常关闭
未查找到2018-02-23未推送的字段信息
数据库查询已推送连接成功
查找2018-02-23已推送的字段信息
查询已推送数据连接已正常关闭
查找到153条数据已发送
今日检测数据库字段次数已标记为1
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

将检测磁盘全部节点信息
7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
抽取出来的磁盘概况如下:
['mounton', 'used', 'use']

['/', '12G', '58%']

['/dev', '0', '0%']

['/dev/shm', '0', '0%']

['/run', '121M', '7%']

['/sys/fs/cgroup', '0', '0%']

['/data', '57G', '61%']

['/run/user/0', '0', '0%']

今日检测磁盘次数已标记为1
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
-->检测2018-02-23图片到达率
数据库查询图片到达率已连接
数据库查询图片连接已关闭
准备从缓存文件中读取之前的数据...
查找到的机构信息如下:
['机构名', '校区名', '机构id', '校区id', '图片到达率']
['内蒙古领前教育', '内蒙古领前教育', 2432, 1797, 0.0]
['语堂辅导中心', '语堂辅导中心西塘校区', 268, 150, 100.0]
查找到2条机构有使用签到,并于2018-02-23一天内总共的图片平均到达率为50.0%,其中到达率低于80%的有1家机构
昨天和前天都有签到的机构有 **1** 家,详情如下
{'org_id': 2432, 'org_name': '内蒙古领前教育', 'shop_name': '内蒙古领前教育', 'rate': 0.0, 'shop_id': 1797}
新增机构 **1** 家,增加详情如下
{'org_id': 268, 'org_name': '语堂辅导中心', 'shop_name': '语堂辅导中心西塘校区', 'rate': 100.0, 'shop_id': 150}
减少机构 **1** 家.减少详情如下
{'org_id': 2070, 'org_name': '云美教育', 'shop_id': 1421, 'shop_name': '云窗美教育', 'rate': 100.0}
总计不变.
准备将搜索得到的数据写入并覆盖缓存文件中的原有内容...
写入缓存成功
今日检测图片到达率次数已标记为1
-->准备检测pm2
pm2 list命令输出如下:
┌────────────────────┬────┬─────────┬───────┬────────┬─────────┬────────┬─────┬────────────┬──────────┐
│ App name           │ id │ mode    │ pid   │ status │ restart │ uptime │ cpu │ mem        │ watching │
├────────────────────┼────┼─────────┼───────┼────────┼─────────┼────────┼─────┼────────────┼──────────┤
│ api_xxxx     │ 2  │ cluster │ 16074 │ online │ 1       │ 44h    │ 0%  │ 113.4 MB   │ disabled │
│ api_xxxx     │ 3  │ cluster │ 2151  │ online │ 3       │ 37h    │ 0%  │ 112.3 MB   │ disabled │
│ api_xxxx     │ 4  │ cluster │ 7603  │ online │ 0       │ 47h    │ 0%  │ 114.6 MB   │ disabled │
│ api_xxxx     │ 5  │ cluster │ 16075 │ online │ 1       │ 44h    │ 0%  │ 113.3 MB   │ disabled │
│ dev_xxxx_www │ 6  │ fork    │ 9292  │ online │ 47      │ 15m    │ 0%  │ 101.4 MB   │ disabled │
│ xxxx_web_www │ 1  │ fork    │ 7585  │ online │ 0       │ 47h    │ 0%  │ 64.1 MB    │ disabled │
│ htgTimedTask       │ 0  │ fork    │ 7579  │ online │ 0       │ 47h    │ 0%  │ 51.1 MB    │ disabled │
└────────────────────┴────┴─────────┴───────┴────────┴─────────┴────────┴─────┴────────────┴──────────┘
 Use `pm2 show <id|name>` to get more details about an app

pm2搭载的项目运行正常
今日检测pm2次数已标记为1
不执行email服务
-->执行发送钉钉消息任务
发送至钉钉的初始数据内容如下:
> - 2018-02-23已推送 **153** 条,未推送总数为 **0** 条
 > - 查找到 **2** 条机构有使用签到,并于2018-02-23一天内总共的图片平均到达率为 **50.0%** ,其中到达率低于80%的有 **1** 家机构
[新增机构 **1** 家,减少机构 **1** 家.总计不变.]

> - pm2搭载的项目运行正常

重构后的数据内容如下:
{'msgtype': 'markdown', 'markdown': {'text': '#### [监控服务]\n> - 2018-02-23已推送 **153** 条,未推送总数为 **0** 条\n > - 查找到 **2** 条机构有使用签到,并于2018-02-23一天内总共的图片平均到达率为 **50.0%** ,其中到达率低于80%的有 **1** 家机构\n[新增机构 **1** 家,减少机构 **1** 家.总计不变.]\n\n> - pm2搭载的项目运行正常\n> \r\r 2018-02-24 09:28:53', 'title': '监控服务'}, 'at': {'isAtAll': 'true'}}
已发送至钉钉
30.0分钟后将再次检测运行
============

============2018-02-24 09:58:56============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
今日9内已检测数据库字段,今日将不再全面检测
将进行错误监控任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

今日9内已检测硬盘,今日将不再检测
将进行错误监控任务
7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
今日9内已检测图片到达率,今日将不再全面检测
将进行错误监控任务
今日9内已检测pm2,今日将不再全面检测
将进行错误监控任务
不执行email服务
-->执行发送钉钉消息任务
数据为空,将不执行执行发送钉钉消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 10:28:57============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不执行email服务
-->执行发送钉钉消息任务
数据为空,将不执行执行发送钉钉消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 10:58:58============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不执行email服务
-->执行发送钉钉消息任务
数据为空,将不执行执行发送钉钉消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 11:28:59============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不执行email服务
-->执行发送钉钉消息任务
数据为空,将不执行执行发送钉钉消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 11:59:00============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不执行email服务
-->执行发送钉钉消息任务
数据为空,将不执行执行发送钉钉消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 12:29:01============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不执行email服务
-->执行发送钉钉消息任务
数据为空,将不执行执行发送钉钉消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 12:59:02============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不执行email服务
-->执行发送钉钉消息任务
数据为空,将不执行执行发送钉钉消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 13:29:03============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不执行email服务
-->执行发送钉钉消息任务
数据为空,将不执行执行发送钉钉消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 13:59:04============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不执行email服务
-->执行发送钉钉消息任务
数据为空,将不执行执行发送钉钉消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 14:29:05============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不执行email服务
-->执行发送钉钉消息任务
数据为空,将不执行执行发送钉钉消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 14:59:06============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不执行email服务
-->执行发送钉钉消息任务
数据为空,将不执行执行发送钉钉消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 15:29:07============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不执行email服务
-->执行发送钉钉消息任务
数据为空,将不执行执行发送钉钉消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 15:59:08============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不执行email服务
-->执行发送钉钉消息任务
数据为空,将不执行执行发送钉钉消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 16:29:09============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不执行email服务
-->执行发送钉钉消息任务
数据为空,将不执行执行发送钉钉消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 16:59:10============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不执行email服务
-->执行发送钉钉消息任务
数据为空,将不执行执行发送钉钉消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 17:29:11============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不执行email服务
-->执行发送钉钉消息任务
数据为空,将不执行执行发送钉钉消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 17:59:12============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不执行email服务
-->执行发送钉钉消息任务
数据为空,将不执行执行发送钉钉消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 18:29:13============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 18:59:14============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 19:29:15============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 19:59:16============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 20:29:17============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 20:59:18============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 21:29:19============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 21:59:20============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 22:29:21============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 22:59:22============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间不为23时,不执行删除日志文件
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 23:29:23============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间已为23时,将准备删除日志文件
需要删除的日志文件有:
['monitor_log-20180216.log']
日志文件monitor_log-20180216.log已成功删除
7天前(2018-02-17之前)的日志文件已都删除
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============

============2018-02-24 23:59:24============
获取运行需要的配置数据
读取到的配置文件信息如下: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
需要运行的有: 
{'sleeptime': '70', 'first_field_value': '0', 'time_beginning': '9', 'webhook': 'xxxxxxxxxxxxxxxxx', 'port': '3306', 'whether_check_letter': 'yes', 'fieldcompare_name3': 'id', 'passwd': 'xxxx', 'fieldcompare_name2': 'studentid', 'warning_level': '70', 'fieldcompare_name_value': 'OpenID', 'checkdisk': 'yes', 'fieldcompare_name4': 'appendtime', 'number_accuracy': '2', 'when_hour_checkall': '9', 'ToEmail': ['1732821152@qq.com'], 'rm_log_passday': '7', 'table_name': 'htg_weixin_history', 'host': 'xxxx', 'email_sendpasswd': '', 'whether_rm_log': 'yes', 'next_field_value': '1', 'smtp_server': '', 'createtime': '2017-09-30', 'database': 'xxxx', 'arrivals_standard': '80', 'dingtalk': 'yes', 'user': 'xxxx', 'username': '林繁', 'ProjectConfigure': '', 'servername': '116', 'field_name': 'send_state', 'whether_check_pic': 'yes', 'when_time_rm': '23', 'sql_path': 'sql/pic_Arrivals-test.sql', 'fieldcompare_name1': 'shopid', 'past_days_num': '3', 'author': 'cg错过', 'savelog_to_file': 'yes', 'whether_check_pm2': 'yes', 'email': 'no', 'email_sendaddr': '', 'run_intervals': '1800', 'logpath': 'logs', 'time_end': '18'}
-->执行检测数据库字段任务
数据库连接成功
查找send_state值为0的数据
已查找到0条数据
第一次查询连接已正常关闭
无数据需要处理
检测已完成
-->开始检测磁盘空间
得到的信息如下:
Filesystem     Type      Size  Used Avail Use% Mounted on
/dev/vda1      xfs        20G   12G  8.6G  58% /
devtmpfs       devtmpfs  1.9G     0  1.9G   0% /dev
tmpfs          tmpfs     1.9G     0  1.9G   0% /dev/shm
tmpfs          tmpfs     1.9G  121M  1.8G   7% /run
tmpfs          tmpfs     1.9G     0  1.9G   0% /sys/fs/cgroup
/dev/vdb       ext4       99G   57G   37G  61% /data
tmpfs          tmpfs     380M     0  380M   0% /run/user/0

7条挂载点信息的dict类型显示如下
{'avail': '8.6G', 'filesystem': '/dev/vda1', 'size': '20G', 'used': '12G', 'use': '58%', 'type': 'xfs', 'mountedon': '/'}
{'avail': '1.9G', 'filesystem': 'devtmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'devtmpfs', 'mountedon': '/dev'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/dev/shm'}
{'avail': '1.8G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '121M', 'use': '7%', 'type': 'tmpfs', 'mountedon': '/run'}
{'avail': '1.9G', 'filesystem': 'tmpfs', 'size': '1.9G', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/sys/fs/cgroup'}
{'avail': '37G', 'filesystem': '/dev/vdb', 'size': '99G', 'used': '57G', 'use': '61%', 'type': 'ext4', 'mountedon': '/data'}
{'avail': '380M', 'filesystem': 'tmpfs', 'size': '380M', 'used': '0', 'use': '0%', 'type': 'tmpfs', 'mountedon': '/run/user/0'}
无超过70%的挂载点
-->尝试准备删除日志文件
时间已为23时,将准备删除日志文件
未发现7天前(2018-02-17之前)的日志文件,即无文件需要删除.
删除日志文件任务将退出
不在时间段内, 不执行发送消息任务
30.0分钟后将再次检测运行
============
