Python 3.5.4 (v3.5.4:3f56838, Aug  8 2017, 02:17:05) [MSC v.1900 64 bit (AMD64)] on win32
Type "copyright", "credits" or "license()" for more information.
>>> 
============= RESTART: D:\work\python\automatic_monitor-dev\monitor.py =============
获取运行需要的配置数据
读取到的----
{'email_sendpasswd': 'lscgsbnjddtgdegc', 'servername': '116', 'email_sendaddr': 'yakult-cg@qq.com', 'author': 'cg错过', 'nginxpath': 'D:\\test\\nginx', 'username': 'xx', 'createtime': '2017-09-30', 'ToEmail': ['1732821152@qq.com'], 'smtp_server': 'smtp.qq.com', 'logpath': 'logs', 'tomcatpath': 'D:\\test\\tomcat', 'redispath': 'D:\\test\\redis'}
需要运行的有
{'email_sendpasswd': 'lscgsbnjddtgdegc', 'servername': '116', 'email_sendaddr': 'yakult-cg@qq.com', 'author': 'cg错过', 'nginxpath': 'D:\\test\\nginx', 'username': 'xx', 'createtime': '2017-09-30', 'ToEmail': ['1732821152@qq.com'], 'smtp_server': 'smtp.qq.com', 'logpath': 'logs', 'tomcatpath': 'D:\\test\\tomcat', 'redispath': 'D:\\test\\redis'}
{'tomcatPath': [], 'tomcatPort': [], 'tomcatName': []}
logs/monitor_content-20171025150634.txt
每分钟，有错误，附件
未重构......
['Second', 'nginx未运行\n脚本尝试将其启动....\n脚本启动nginx未成功，请手动启动\nredis未运行\n脚本尝试将其启动....\n脚本启动redis未成功，请手动启动\n', 'logs/monitor_err-20171025150634.txt']
已重构......
['Second', '116今日1506时检测到异常', '====================\nnginx未运行\n脚本尝试将其启动....\n脚本启动nginx未成功，请手动启动\nredis未运行\n脚本尝试将其启动....\n脚本启动redis未成功，请手动启动\n\n====================\n---xx\n---2017-10-25 15:06:34', 'logs/monitor_err-20171025150634.txt']
send: 'ehlo smtp.qq.com\r\n'
reply: b'250-smtp.qq.com\r\n'
reply: b'250-PIPELINING\r\n'
reply: b'250-SIZE 73400320\r\n'
reply: b'250-AUTH LOGIN PLAIN\r\n'
reply: b'250-AUTH=LOGIN\r\n'
reply: b'250-MAILCOMPRESS\r\n'
reply: b'250 8BITMIME\r\n'
reply: retcode (250); Msg: b'smtp.qq.com\nPIPELINING\nSIZE 73400320\nAUTH LOGIN PLAIN\nAUTH=LOGIN\nMAILCOMPRESS\n8BITMIME'
send: 'AUTH PLAIN AHlha3VsdC1jZ0BxcS5jb20AbHNjZ3NibmpkZHRnZGVnYw==\r\n'
reply: b'235 Authentication successful\r\n'
reply: retcode (235); Msg: b'Authentication successful'
<class 'NameError'>
>>> 获取运行需要的配置数据
读取到的----
{'email_sendpasswd': 'lscgsbnjddtgdegc', 'servername': '116', 'email_sendaddr': 'yakult-cg@qq.com', 'author': 'cg错过', 'nginxpath': 'D:\\test\\nginx', 'username': 'xx', 'createtime': '2017-09-30', 'ToEmail': ['1732821152@qq.com'], 'smtp_server': 'smtp.qq.com', 'logpath': 'logs', 'tomcatpath': 'D:\\test\\tomcat', 'redispath': 'D:\\test\\redis'}
需要运行的有
{'email_sendpasswd': 'lscgsbnjddtgdegc', 'servername': '116', 'email_sendaddr': 'yakult-cg@qq.com', 'author': 'cg错过', 'nginxpath': 'D:\\test\\nginx', 'username': 'xx', 'createtime': '2017-09-30', 'ToEmail': ['1732821152@qq.com'], 'smtp_server': 'smtp.qq.com', 'logpath': 'logs', 'tomcatpath': 'D:\\test\\tomcat', 'redispath': 'D:\\test\\redis'}
{'tomcatPath': [], 'tomcatPort': [], 'tomcatName': []}
logs/monitor_content-20171025151135.txt
每分钟，有错误，附件
未重构......
['Second', 'nginx未运行\n脚本尝试将其启动....\n脚本启动nginx未成功，请手动启动\nredis未运行\n脚本尝试将其启动....\n脚本启动redis未成功，请手动启动\n', 'logs/monitor_err-20171025151135.txt']
已重构......
['Second', '116今日1511时检测到异常', '====================\nnginx未运行\n脚本尝试将其启动....\n脚本启动nginx未成功，请手动启动\nredis未运行\n脚本尝试将其启动....\n脚本启动redis未成功，请手动启动\n\n====================\n---xx\n---2017-10-25 15:11:35', 'logs/monitor_err-20171025151135.txt']
send: 'ehlo smtp.qq.com\r\n'
reply: b'250-smtp.qq.com\r\n'
reply: b'250-PIPELINING\r\n'
reply: b'250-SIZE 73400320\r\n'
reply: b'250-AUTH LOGIN PLAIN\r\n'
reply: b'250-AUTH=LOGIN\r\n'
reply: b'250-MAILCOMPRESS\r\n'
reply: b'250 8BITMIME\r\n'
reply: retcode (250); Msg: b'smtp.qq.com\nPIPELINING\nSIZE 73400320\nAUTH LOGIN PLAIN\nAUTH=LOGIN\nMAILCOMPRESS\n8BITMIME'
send: 'AUTH PLAIN AHlha3VsdC1jZ0BxcS5jb20AbHNjZ3NibmpkZHRnZGVnYw==\r\n'
reply: b'235 Authentication successful\r\n'
reply: retcode (235); Msg: b'Authentication successful'
<class 'NameError'>
