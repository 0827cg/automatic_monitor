Python 3.5.4 (v3.5.4:3f56838, Aug  8 2017, 02:17:05) [MSC v.1900 64 bit (AMD64)] on win32
Type "copyright", "credits" or "license()" for more information.
>>> 
============= RESTART: D:\work\python\automatic_monitor-dev\monitor.py =============
获取运行需要的配置数据
读取到的----
{'ToEmail': ['1732821152@qq.com'], 'createtime': '2017-09-30', 'author': 'cg错过', 'logpath': 'logs', 'tomcatpath': 'D:\\test\\tomcat', 'nginxpath': 'D:\\test\\nginx', 'smtp_server': 'smtp.qq.com', 'username': 'xx', 'redispath': 'D:\\test\\redis', 'email_sendpasswd': 'xxxxxxx', 'servername': '116', 'email_sendaddr': 'yakult-cg@qq.com'}
需要运行的有
{'ToEmail': ['1732821152@qq.com'], 'createtime': '2017-09-30', 'author': 'cg错过', 'logpath': 'logs', 'tomcatpath': 'D:\\test\\tomcat', 'nginxpath': 'D:\\test\\nginx', 'smtp_server': 'smtp.qq.com', 'username': 'xx', 'redispath': 'D:\\test\\redis', 'email_sendpasswd': 'xxxxxxx', 'servername': '116', 'email_sendaddr': 'yakult-cg@qq.com'}
{'tomcatPort': [], 'tomcatName': [], 'tomcatPath': []}
logs/monitor_content-20171025145848.txt
每分钟，有错误，附件
未重构......
['Second', 'nginx未运行\n脚本尝试将其启动....\n脚本启动nginx未成功，请手动启动\nredis未运行\n脚本尝试将其启动....\n脚本启动redis未成功，请手动启动\n', 'logs/monitor_err-20171025145848.txt']
已重构......
['Second', '116今日1458时检测到异常', '====================\nnginx未运行\n脚本尝试将其启动....\n脚本启动nginx未成功，请手动启动\nredis未运行\n脚本尝试将其启动....\n脚本启动redis未成功，请手动启动\n\n====================\n---xx\n---2017-10-25 14:58:48', 'logs/monitor_err-20171025145848.txt']
send: 'ehlo smtp.qq.com\r\n'
reply: b'250-smtp.qq.com\r\n'
reply: b'250-PIPELINING\r\n'
reply: b'250-SIZE 73400320\r\n'
reply: b'250-AUTH LOGIN PLAIN\r\n'
reply: b'250-AUTH=LOGIN\r\n'
reply: b'250-MAILCOMPRESS\r\n'
reply: b'250 8BITMIME\r\n'
reply: retcode (250); Msg: b'smtp.qq.com\nPIPELINING\nSIZE 73400320\nAUTH LOGIN PLAIN\nAUTH=LOGIN\nMAILCOMPRESS\n8BITMIME'
send: 'AUTH PLAIN AHlha3VsdC1jZ0BxcS5jb20AeHh4eHh4eA==\r\n'
reply: b'535 Error: \xc7\xeb\xca\xb9\xd3\xc3\xca\xda\xc8\xa8\xc2\xeb\xb5\xc7\xc2\xbc\xa1\xa3\xcf\xea\xc7\xe9\xc7\xeb\xbf\xb4: http://service.mail.qq.com/cgi-bin/help?subtype=1&&id=28&&no=1001256\r\n'
reply: retcode (535); Msg: b'Error: \xc7\xeb\xca\xb9\xd3\xc3\xca\xda\xc8\xa8\xc2\xeb\xb5\xc7\xc2\xbc\xa1\xa3\xcf\xea\xc7\xe9\xc7\xeb\xbf\xb4: http://service.mail.qq.com/cgi-bin/help?subtype=1&&id=28&&no=1001256'
send: 'AUTH LOGIN eWFrdWx0LWNnQHFxLmNvbQ==\r\n'
reply: b'334 UGFzc3dvcmQ6\r\n'
reply: retcode (334); Msg: b'UGFzc3dvcmQ6'
send: 'eHh4eHh4eA==\r\n'
reply: b'535 Error: \xc7\xeb\xca\xb9\xd3\xc3\xca\xda\xc8\xa8\xc2\xeb\xb5\xc7\xc2\xbc\xa1\xa3\xcf\xea\xc7\xe9\xc7\xeb\xbf\xb4: http://service.mail.qq.com/cgi-bin/help?subtype=1&&id=28&&no=1001256\r\n'
reply: retcode (535); Msg: b'Error: \xc7\xeb\xca\xb9\xd3\xc3\xca\xda\xc8\xa8\xc2\xeb\xb5\xc7\xc2\xbc\xa1\xa3\xcf\xea\xc7\xe9\xc7\xeb\xbf\xb4: http://service.mail.qq.com/cgi-bin/help?subtype=1&&id=28&&no=1001256'
<class 'smtplib.SMTPAuthenticationError'>
>>> 获取运行需要的配置数据
读取到的----
{'ToEmail': ['1732821152@qq.com'], 'createtime': '2017-09-30', 'author': 'cg错过', 'logpath': 'logs', 'tomcatpath': 'D:\\test\\tomcat', 'nginxpath': 'D:\\test\\nginx', 'smtp_server': 'smtp.qq.com', 'username': 'xx', 'redispath': 'D:\\test\\redis', 'email_sendpasswd': 'xxxxxxx', 'servername': '116', 'email_sendaddr': 'yakult-cg@qq.com'}
需要运行的有
{'ToEmail': ['1732821152@qq.com'], 'createtime': '2017-09-30', 'author': 'cg错过', 'logpath': 'logs', 'tomcatpath': 'D:\\test\\tomcat', 'nginxpath': 'D:\\test\\nginx', 'smtp_server': 'smtp.qq.com', 'username': 'xx', 'redispath': 'D:\\test\\redis', 'email_sendpasswd': 'xxxxxxx', 'servername': '116', 'email_sendaddr': 'yakult-cg@qq.com'}
{'tomcatPort': [], 'tomcatName': [], 'tomcatPath': []}
logs/monitor_content-20171025145919.txt
每分钟，有错误，附件
未重构......
['Second', 'nginx未运行\n脚本尝试将其启动....\n脚本启动nginx未成功，请手动启动\nredis未运行\n脚本尝试将其启动....\n脚本启动redis未成功，请手动启动\n', 'logs/monitor_err-20171025145919.txt']
已重构......
['Second', '116今日1459时检测到异常', '====================\nnginx未运行\n脚本尝试将其启动....\n脚本启动nginx未成功，请手动启动\nredis未运行\n脚本尝试将其启动....\n脚本启动redis未成功，请手动启动\n\n====================\n---xx\n---2017-10-25 14:59:19', 'logs/monitor_err-20171025145919.txt']
send: 'ehlo smtp.qq.com\r\n'
reply: b'250-smtp.qq.com\r\n'
reply: b'250-PIPELINING\r\n'
reply: b'250-SIZE 73400320\r\n'
reply: b'250-AUTH LOGIN PLAIN\r\n'
reply: b'250-AUTH=LOGIN\r\n'
reply: b'250-MAILCOMPRESS\r\n'
reply: b'250 8BITMIME\r\n'
reply: retcode (250); Msg: b'smtp.qq.com\nPIPELINING\nSIZE 73400320\nAUTH LOGIN PLAIN\nAUTH=LOGIN\nMAILCOMPRESS\n8BITMIME'
send: 'AUTH PLAIN AHlha3VsdC1jZ0BxcS5jb20AeHh4eHh4eA==\r\n'
reply: b'535 Error: \xc7\xeb\xca\xb9\xd3\xc3\xca\xda\xc8\xa8\xc2\xeb\xb5\xc7\xc2\xbc\xa1\xa3\xcf\xea\xc7\xe9\xc7\xeb\xbf\xb4: http://service.mail.qq.com/cgi-bin/help?subtype=1&&id=28&&no=1001256\r\n'
reply: retcode (535); Msg: b'Error: \xc7\xeb\xca\xb9\xd3\xc3\xca\xda\xc8\xa8\xc2\xeb\xb5\xc7\xc2\xbc\xa1\xa3\xcf\xea\xc7\xe9\xc7\xeb\xbf\xb4: http://service.mail.qq.com/cgi-bin/help?subtype=1&&id=28&&no=1001256'
send: 'AUTH LOGIN eWFrdWx0LWNnQHFxLmNvbQ==\r\n'
reply: b'334 UGFzc3dvcmQ6\r\n'
reply: retcode (334); Msg: b'UGFzc3dvcmQ6'
send: 'eHh4eHh4eA==\r\n'
reply: b'535 Error: \xc7\xeb\xca\xb9\xd3\xc3\xca\xda\xc8\xa8\xc2\xeb\xb5\xc7\xc2\xbc\xa1\xa3\xcf\xea\xc7\xe9\xc7\xeb\xbf\xb4: http://service.mail.qq.com/cgi-bin/help?subtype=1&&id=28&&no=1001256\r\n'
reply: retcode (535); Msg: b'Error: \xc7\xeb\xca\xb9\xd3\xc3\xca\xda\xc8\xa8\xc2\xeb\xb5\xc7\xc2\xbc\xa1\xa3\xcf\xea\xc7\xe9\xc7\xeb\xbf\xb4: http://service.mail.qq.com/cgi-bin/help?subtype=1&&id=28&&no=1001256'
<class 'smtplib.SMTPAuthenticationError'>